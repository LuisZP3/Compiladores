<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>PROGRAMA 1 - CARGAR Y LEER ARCHIVOS .CPP</title>
    <h1> PROGRAMA 1 - Luis Zu√±iga</h1>
  </head>

  <body>
  seleccione el archivo .cpp:
  <input type="file" id="archivoTxt">
  <hr>
  <p id="par"></p>
  <p id="mensajes"></p>

  <script>
    function abrirArchivo(evento) {
      let archivo = evento.target.files[0];

      if(archivo){
        let reader = new FileReader();
        let c = "";
        var b=0;
        var x=0;
        reader.readAsText(archivo);

        reader.onload = function(e) {
          let contenido = e.target.result;
          for (var i = 0; i < contenido.length; i++){
            b=contenido.toUpperCase().charCodeAt(i);
            x=contenido.toUpperCase().charCodeAt(i+1);
            
            if(b==47 && x==47){
                while(b!=10){
                  i++;
                  b=contenido.toUpperCase().charCodeAt(i);
                }
            }else if(b==47 && x==42){
                while(b!=42 || x!=47){
                  i++;
                  b=contenido.toUpperCase().charCodeAt(i);
                  x=contenido.toUpperCase().charCodeAt(i+1);
                }
                i++;
            }
            else if(b>64 && b<91){
              c+=contenido[i];
              if(x<65 || x>90){
                c+="\n";
              }
            }
            else if(b==10 || b==9)
              c+="";
            else if((b>32 && b<65) || (b>90))
              c+=contenido[i]+"\n";
            else if(b==32){
              if(x==32){
                x=0;
                continue;
              }
              c+="";
            }
           }
          document.getElementById('par').innerText = c;
        };

      }else{
        document.getElementById('mensajes').innerText = 'No se ha seleccionado un archivo';
      }
    }

    window.addEventListener('load', () => {
      document.getElementById('archivoTxt').addEventListener('change',abrirArchivo);
    });
  </script>
  </body>
</html>
